# VikiTok Project Memory

## Project State
- Created a new Expo project with TypeScript
- Set up the project structure with folders for components, services, stores, types, utils, hooks, i18n, and constants
- Implemented core types for Article, UserPreference, and UserLike
- Created constants for API endpoints, default topics, supported languages, and storage keys
- Set up Supabase project:
  - Created a new Supabase project
  - Created the `likes` table with appropriate columns and indexes
  - Configured Row Level Security policies for the `likes` table
  - Updated the Supabase client with real project URL and API key
- Implemented services:
  - ArticleService for fetching articles from Wikipedia API
  - PreferenceService for managing user preferences
  - LikeService for managing article likes
- Implemented Zustand stores:
  - articleStore for managing articles
  - preferenceStore for managing preferences
  - likeStore for managing likes
- Set up internationalization with English and Turkish translations
- Created utility for generating and retrieving user ID
- Implemented Expo Router screens:
  - Main feed screen
  - Settings screen
  - Topics selection screen
- Created ArticleCard component for displaying articles
- Fixed React hooks errors in Android app:
  - Updated React version to 18.3.1 to match expo-router dependencies
  - Updated react-native-screens to version 4.0.0
  - Restructured App.tsx and _layout.tsx to avoid duplicate providers
- Fixed additional errors:
  - Added temporary Supabase URL and key for development
  - Fixed missing default export issue in index.tsx
  - Added SafeAreaProvider to handle insets properly
  - Used LogBox to ignore the "topInsetsChange" warning
  - Updated babel configuration with additional plugins for better compatibility
- Fixed expo-doctor issues:
  - Updated splash screen image path in app.json
  - Updated dependencies to match Expo SDK requirements
  - Added expo.doctor configuration to package.json to disable necessary warnings
  - Ran prebuild to sync app config with native projects
  - Installed expo-system-ui for userInterfaceStyle support
- Fixed UUID error:
  - Added a crypto polyfill to support crypto.getRandomValues() on platforms where it's not available
  - Improved error handling in the getUserId function with fallback mechanisms
  - Added a fallback ID generation function for cases where UUID generation fails
- Added web support:
  - Installed react-dom and react-native-web dependencies
- Improved LikeService:
  - Added local storage fallback for when Supabase is not available
  - Implemented graceful degradation for all Supabase operations
  - Added APP_PREFIX to STORAGE_KEYS for consistent key naming
- Enhanced language support:
  - Updated ArticleService to translate search terms for Turkish articles
  - Modified Feed component to clear articles when language changes
  - Updated Settings screen to immediately apply language changes
  - Added topic translations for Turkish language
- Implemented TikTok-style scrolling:
  - Replaced FlatList with PagerView for vertical snap-based pagination
  - Redesigned ArticleCard component for full-screen display
  - Added side action buttons similar to TikTok UI
  - Implemented loading more articles when approaching the end of available content
  - Increased article fetch limit from 10 to 20 for smoother experience
  - Updated UI with dark theme and text shadows for better readability
  - Created cross-platform TikTokPager component that uses PagerView on native platforms and ScrollView on web
  - Fixed babel.config.js by removing deprecated 'expo-router/babel' plugin
  - Improved cross-platform compatibility by using platform-specific files (.web.tsx and .native.tsx)
  - Fixed ViewManagerResolver error by properly separating native and web implementations
  - Ran prebuild to ensure native modules are properly linked

## Next Steps
- Implement testing for services
- Improve UI/UX with better styling and animations
- Implement more robust error handling
- Optimize performance with caching and image optimization
